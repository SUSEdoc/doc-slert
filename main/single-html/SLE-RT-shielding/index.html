<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><title>Shielding Linux Resources | SUSE Linux Enterprise Real Time 15 SP4</title><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<meta name="title" content="Shielding Linux Resources | SLE RT 15 SP4"/>
<meta name="description" content="In the Linux kernel, the cpuset facility provides a mechanism for creating logical entities called “cpusets” that encompass definitions of CPUs and NUMA Memory…"/>
<meta name="product-name" content="SUSE Linux Enterprise Real Time"/>
<meta name="product-number" content="15 SP4"/>
<meta name="book-title" content="Shielding Linux Resources"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="thomas.schraitle@suse.com"/>
<meta name="tracker-bsc-component" content="Other"/>
<meta name="tracker-bsc-product" content="SUSE Linux Enterprise Real Time 15 SP4"/>
<meta property="og:title" content="Shielding Linux Resources | SLE RT 15 SP4"/>
<meta property="og:description" content="In the Linux kernel, the cpuset facility provides a mechanism for creating logical entities called “cpusets” that encompass definitions of CPUs and NUMA Memory…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Shielding Linux Resources | SLE RT 15 SP4"/>
<meta name="twitter:description" content="In the Linux kernel, the cpuset facility provides a mechanism for creating logical entities called “cpusets” that encompass definitions of CPUs and NUMA Memory…"/>

<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"> </script><script src="static/js/script.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft single normal offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="#book-shielding">Shielding Linux Resources</a></div></div><main id="_content"><nav class="side-toc placebo" id="_side-toc-overall"> </nav><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section xml:lang="en" class="book" id="book-shielding" data-id-title="Shielding Linux Resources"><div class="titlepage"><div><div class="big-version-info"><span class="productname">SUSE Linux Enterprise Real Time</span> <span class="productnumber">15 SP4</span></div><div><h1 class="title">Shielding Linux Resources <a title="Permalink" class="permalink" href="#book-shielding">#</a></h1></div><div class="authorgroup"><div><span class="imprint-label">Author: </span><span class="firstname">Alex</span> <span class="surname">Tsariounov</span></div></div><div class="date"><span class="imprint-label">Publication Date: </span>July 14, 2022
</div></div></div><div class="toc"><ul><li><span class="chapter"><a href="#cha-shielding-intro"><span class="title-number">1 </span><span class="title-name">Introduction</span></a></span></li><li><span class="chapter"><a href="#cha-shielding-model"><span class="title-number">2 </span><span class="title-name">The basic shielding model</span></a></span><ul><li><span class="sect1"><a href="#sec-shielding-model-ex"><span class="title-number">2.1 </span><span class="title-name">A simple shielding example</span></a></span></li><li><span class="sect1"><a href="#sec-shielding-model-ex-setup-teardown"><span class="title-number">2.2 </span><span class="title-name">Setup and teardown of the shield</span></a></span></li><li><span class="sect1"><a href="#sec-shielding-model-ex-move"><span class="title-number">2.3 </span><span class="title-name">Moving interesting tasks into and out of the shield</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-shielding-cpuset"><span class="title-number">3 </span><span class="title-name">Full-featured cpuset manipulation commands</span></a></span><ul><li><span class="sect1"><a href="#sec-shielding-cpuset-set"><span class="title-number">3.1 </span><span class="title-name">The set subcommand</span></a></span></li><li><span class="sect1"><a href="#sec-shielding-cpuset-proc"><span class="title-number">3.2 </span><span class="title-name">The <code class="command">proc</code> subcommand</span></a></span></li><li><span class="sect1"><a href="#sec-shielding-cpuset-shielding-set-proc"><span class="title-number">3.3 </span><span class="title-name">Implementing shielding with <code class="command">set</code> and <code class="command">proc</code></span></a></span></li><li><span class="sect1"><a href="#sec-shielding-cpuset-hierarchy-set-proc"><span class="title-number">3.4 </span><span class="title-name">Implementing hierarchy with set and proc</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-shielding-shortcuts"><span class="title-number">4 </span><span class="title-name">Using shortcuts</span></a></span><ul><li><span class="sect1"><a href="#sec-shielding-shortcuts-shield"><span class="title-number">4.1 </span><span class="title-name"><code class="command">shield</code> subcommand shortcuts</span></a></span></li><li><span class="sect1"><a href="#sec-shielding-shortcuts-set"><span class="title-number">4.2 </span><span class="title-name"><code class="command">set</code> subcommand shortcuts</span></a></span></li><li><span class="sect1"><a href="#sec-shielding-shortcuts-proc"><span class="title-number">4.3 </span><span class="title-name"><code class="command">proc</code> subcommand shortcuts</span></a></span></li></ul></li><li><span class="chapter"><a href="#cha-shieldingt-help"><span class="title-number">5 </span><span class="title-name">What to do if there are problems</span></a></span></li><li><span class="appendix"><a href="#id-1.3.8"><span class="title-number">A </span><span class="title-name">GNU Licenses</span></a></span><ul><li><span class="sect1"><a href="#id-1.3.8.4"><span class="title-number">A.1 </span><span class="title-name">GNU Free Documentation License</span></a></span></li></ul></li></ul></div><div><div class="legalnotice" id="id-1.3.2.5"><p>
  Copyright © 2006–2022

  SUSE LLC and contributors. All rights reserved.
 </p><p>
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.2 or (at
  your option) version 1.3; with the Invariant Section being this copyright
  notice and license. A copy of the license version 1.2 is included in the
  section entitled <span class="quote">“<span class="quote">GNU Free Documentation License</span>”</span>.
 </p><p>
  For SUSE trademarks, see
  <a class="link" href="http://www.suse.com/company/legal/" target="_blank">http://www.suse.com/company/legal/</a>. All other
  third-party trademarks are the property of their respective owners. Trademark
  symbols (®, ™ etc.) denote trademarks of SUSE and its affiliates.
  Asterisks (*) denote third-party trademarks.
 </p><p>
  All information found in this book has been compiled with utmost attention
  to detail. However, this does not guarantee complete accuracy. Neither
  SUSE LLC, its affiliates, the authors nor the translators shall be held
  liable for possible errors or the consequences thereof.
 </p></div></div><section class="chapter" id="cha-shielding-intro" data-id-title="Introduction"><div class="titlepage"><div><div><h1 class="title"><span class="title-number">1 </span><span class="title-name">Introduction</span> <a title="Permalink" class="permalink" href="#cha-shielding-intro">#</a></h1></div></div></div><p>
  In the Linux kernel, the cpuset facility provides a mechanism for creating
  logical entities called <span class="quote">“<span class="quote">cpusets</span>”</span> that encompass definitions
  of CPUs and NUMA Memory Nodes (if NUMA is available). Cpusets constrain
  the CPU and Memory placement of a task to only the resources defined
  within that cpuset. These cpusets can then be arranged into a nested
  hierarchy visible in the <span class="quote">“<span class="quote">cpuset</span>”</span> virtual file system. Sets
  of tasks can be assigned to these cpusets to constrain the resources that
  they use. The tasks can be moved from one cpuset to another to use
  other resources defined in those other cpusets.
 </p><p>
  The <code class="command">cset</code> command is a Python application that provides
  a command line front-end for the Linux cpusets functionality. Working with
  cpusets directly can be confusing and slightly complex. The cset tool
  hides that complexity behind an easy-to-use command line interface.
 </p><p>
  There are two distinct use cases for cset: the basic shielding use case
  and the <span class="quote">“<span class="quote">advanced</span>”</span> case of using raw <code class="command">set</code>
  and <code class="command">proc</code> subcommands. The basic shielding function is
  accessed with the <code class="command">shield</code> subcommand and described in
  the next section. Using the raw <code class="command">set</code> and
  <code class="command">proc</code> subcommands allows one to set up arbitrarily
  complex cpusets and is described in
  <a class="xref" href="#cha-shielding-cpuset" title="Chapter 3. Full-featured cpuset manipulation commands">Chapter 3, <em>Full-featured cpuset manipulation commands</em></a>.
 </p><p>
  Note that in general, one either uses the <code class="command">shield</code>
  subcommand or a combination of the <code class="command">set</code> and
  <code class="command">proc</code> subcommands. One rarely, if ever, uses all of
  these subcommands together. Doing so will likely become too confusing.
  Additionally, the <code class="command">shield</code> subcommand sets up its
  required cpusets with exclusively marked CPUs. This can interfere with
  your cpuset strategy. If you find that you need more functionality for
  your strategy than <code class="command">shield</code> provides, go ahead and
  transition to using <code class="command">set</code> and <code class="command">proc</code>
  exclusively. It is straightforward to implement what
  <code class="command">shield</code> does with a few extra <code class="command">set</code> and
  <code class="command">proc</code> subcommands.
 </p><div class="variablelist"><div class="variablelist-title-wrap"><h6 class="variablelist-title"><span class="title-name">Obtaining online help </span><a title="Permalink" class="permalink" href="#id-1.3.3.6">#</a></h6></div><dl class="variablelist"><dt id="id-1.3.3.6.2"><span class="term">For a full list of cset subcommands</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> <code class="option">help</code></pre></div></dd><dt id="id-1.3.3.6.3"><span class="term">For in-depth help on individual subcommands</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> <code class="option">help</code> <em class="replaceable">&lt;subcommand&gt;</em></pre></div></dd><dt id="id-1.3.3.6.4"><span class="term">For options on individual subcommands</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> <em class="replaceable">&lt;subcommand&gt;</em> <code class="option">(-h | --help)</code></pre></div></dd></dl></div></section><section class="chapter" id="cha-shielding-model" data-id-title="The basic shielding model"><div class="titlepage"><div><div><h1 class="title"><span class="title-number">2 </span><span class="title-name">The basic shielding model</span> <a title="Permalink" class="permalink" href="#cha-shielding-model">#</a></h1></div></div></div><p>
  Although any setup of <code class="systemitem">cpuset</code>s can really be described as
  <span class="emphasis"><em>shielding</em></span>, there is one prevalent shielding model in
  use that is so common that cset has a subcommand that is dedicated to its
  use. This subcommand is called <code class="command">shield</code>.
 </p><p>
  The concept behind this model is the use of three <code class="systemitem">cpuset</code>s:
 </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="formalpara-title">Root <code class="systemitem">cpuset</code>. </span>is always present in all configurations and contains all CPUs.</p></li><li class="listitem"><p><span class="formalpara-title">System <code class="systemitem">cpuset</code>. </span>contains CPUs which are used for system tasks. These are the normal
     tasks that are not important, but which need to run on the system.
    </p></li><li class="listitem"><p><span class="formalpara-title">User <code class="systemitem">cpuset</code>. </span><span class="quote">“<span class="quote">the shield</span>”</span>, contains CPUs which are used for
     important tasks. Only those tasks that are somehow important, usually
     tasks whose performance determines the overall rating for the machine,
     are run in the <code class="systemitem">user</code> <code class="systemitem">cpuset</code>.
    </p></li></ul></div><p>
  The <code class="command">shield</code> subcommand manages all of these <code class="systemitem">cpuset</code>s and
  lets you define the CPUs and memory nodes that are in the
  <code class="literal">shielded</code> and <code class="literal">unshielded</code> sets. 
  The subcommand automatically moves all movable tasks on the system into the
  <code class="literal">unshielded</code> <code class="systemitem">cpuset</code> on shield activation, and back into
  the <code class="systemitem">root</code> <code class="systemitem">cpuset</code> on shield tear down. The subcommand
  lets you move tasks into and out of the shield. Additionally, you can move
  special tasks (kernel threads) which normally run in the
  <code class="systemitem">root</code> <code class="systemitem">cpuset</code> into the <code class="literal">unshielded</code>
  set. This makes your shield have even less disturbance.
 </p><p>
  The <code class="command">shield</code> subcommand abstracts the management of these <code class="systemitem">cpuset</code>s away from
  you. It provides options that drive how the shield is set up, which tasks
  are to be shielded or not, and the status of the shield. In
  fact, you need not be bothered with the naming of the required <code class="systemitem">cpuset</code>s or
  even where the <code class="systemitem">cpuset</code> file system is mounted. <code class="command">cset</code> and
  the <code class="command">shield</code> subcommand takes care of all that.
 </p><p>
  If you need to define more <code class="systemitem">cpuset</code>s for your application, it is likely
  that this simple shielding is not rich enough for you. In this
  case, you should transition to using the <code class="command">set</code> and
  <code class="command">proc</code> subcommands described in
  <a class="xref" href="#cha-shielding-cpuset" title="Chapter 3. Full-featured cpuset manipulation commands">Chapter 3, <em>Full-featured cpuset manipulation commands</em></a>.
 </p><section class="sect1" id="sec-shielding-model-ex" data-id-title="A simple shielding example"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">2.1 </span><span class="title-name">A simple shielding example</span> <a title="Permalink" class="permalink" href="#sec-shielding-model-ex">#</a></h2></div></div></div><p>
   Assume a four-core machine that has uniform memory access.
   This means there are four CPUs at your disposal and there is only one memory node
   available. On such machines, there is no need to specify any memory node
   parameters to cset, it sets up the only available memory node by default.
  </p><p>
   Usually, one wants to dedicate as many CPUs to the shield as possible and
   leave a minimal set of CPUs for normal system processing. The reasoning
   for this is, the performance of the important tasks will rule the
   performance of the installation as a whole. These important tasks need
   as many resources available to them as possible, exclusive of other,
   unimportant tasks that are running on the system.
  </p><div id="id-1.3.4.9.4" data-id-title="Definition of task" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><h6>Note: Definition of task</h6><p>
    In this document <span class="emphasis"><em>task</em></span> is used to represent either a
    process or a thread that is running on the system.
   </p></div></section><section class="sect1" id="sec-shielding-model-ex-setup-teardown" data-id-title="Setup and teardown of the shield"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">2.2 </span><span class="title-name">Setup and teardown of the shield</span> <a title="Permalink" class="permalink" href="#sec-shielding-model-ex-setup-teardown">#</a></h2></div></div></div><p>
    To set up a shield of three CPUs with one CPU left for low priority system
    processing, issue the following command.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -c 1-3
cset: --&gt; activating shielding:
cset: moving 176 tasks from root into system cpuset...
[==================================================]%
cset: "system" cpuset of CPUSPEC(0) with 176 tasks running
cset: "user" cpuset of CPUSPEC(1-3) with 0 tasks running</pre></div><p>
    This command does several things. First, it creates a
    <code class="literal">user</code> <code class="systemitem">cpuset</code> with what is called a CPUSPEC (CPU
    specification) from the <code class="option">-c/--cpu</code> option. This CPUSPEC
    specifies to use CPUs 1 through 3 inclusively. Next, the command creates
    a <code class="literal">system</code> <code class="systemitem">cpuset</code> with a CPUSPEC that is the inverse of
    the <code class="option">-c</code> option for the current machine. On this machine
    that <code class="systemitem">cpuset</code> will only contain the first CPU, CPU0. Next, all user space
    processes running in the <code class="literal">root</code> <code class="systemitem">cpuset</code> are transferred
    to the <code class="literal">system</code> <code class="systemitem">cpuset</code>. This makes all those processes
    run only on CPU0. The effect of this is that the shield consists of CPUs
    1 through 3 and they are now idling.
   </p><p>
    Note that the command did not move the kernel threads that are running
    in the <code class="literal">root</code> <code class="systemitem">cpuset</code> to the <code class="literal">system</code>
    <code class="systemitem">cpuset</code>. This is because you may want these kernel threads to use all
    available CPUs. If you do not, then you can use the
    <code class="option">-k</code>/<code class="option">--kthread</code> option as described below.
   </p><p>
    The shield setup command above outputs the information of which <code class="systemitem">cpuset</code>s
    were created and how many tasks are running on each. To see
    the current status of the shield again, issue this command:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield
cset: --&gt; shielding system active with
cset: "system" cpuset of CPUSPEC(0) with 176 tasks running
cset: "user" cpuset of CPUSPEC(1-3) with 0 tasks running</pre></div><p>
    Which shows us that the shield is set up and that 176 tasks are running
    in the <code class="literal">system</code> <code class="systemitem">cpuset</code>—the
    <span class="emphasis"><em>unshielded</em></span> <code class="systemitem">cpuset</code>.
   </p><p>
    It is important to move all possible tasks from the
    <code class="literal">root</code> <code class="systemitem">cpuset</code> to the unshielded
    <code class="literal">system</code> <code class="systemitem">cpuset</code> because a task’s <code class="systemitem">cpuset</code> property is
    inherited by its children. As all running tasks (including init) have been
    moved to the unshielded <code class="literal">system</code> <code class="systemitem">cpuset</code>,
    that means that any new tasks that are spawned will also run in the
    unshielded <code class="literal">system</code> <code class="systemitem">cpuset</code>.
   </p><p><span class="formalpara-title">Note. </span>There is a minor chance that a task forks during move and its
    child remains in the root <code class="systemitem">cpuset</code>.
   </p><p>
    Some kernel threads can be moved into the unshielded
    <code class="literal">system</code> <code class="systemitem">cpuset</code> as well. These are the threads that are
    not bound to specific CPUs. If a kernel thread is bound to a specific
    CPU, then it is generally not a good idea to move that thread to the
    <code class="literal">system</code> set because at worst it may hang the system
    and at best it will slow the system down significantly. These threads
    are usually the IRQ threads on a real time Linux kernel, for example,
    and you should not move these kernel threads into
    <code class="literal">system</code>. If you leave them in the
    <code class="literal">root</code> <code class="systemitem">cpuset</code>, then they will have access to all CPUs.
   </p><p>
    However, if your application demands an even <span class="quote">“<span class="quote">quieter</span>”</span>
    shield, then you can move all movable kernel threads into the unshielded
    <code class="literal">system</code> set with the following command.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -k on
cset: --&gt; activating kthread shielding
cset: kthread shield activated, moving 70 tasks into system cpuset...
[==================================================]%
cset: done</pre></div><p>
    You can see that this moved an additional 70 tasks to the unshielded
    <code class="literal">system</code> <code class="systemitem">cpuset</code>. Note that the <code class="option">-k</code>/<code class="option">--kthread on</code> parameter can be given at the shield's
    creation time. You do not need to perform these two steps separately if you know
    you will want kernel thread shielding as well. Executing
    <code class="command">cset shield</code> again shows us the current state of the
    shield.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield
cset: --&gt; shielding system active with
cset: "system" cpuset of CPUSPEC(0) with 246 tasks running
cset: "user" cpuset of CPUSPEC(1-3) with 0 tasks running</pre></div><p>
    You can get a detailed listing of what is running in the shield by
    adding either <code class="option">-s/--shield</code> or
    <code class="option">-u/--unshield</code> to the <code class="command">shield</code>
    subcommand and using the verbose flag. You will get output similar to
    the following.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield --unshield -v
cset: "system" cpuset of CPUSPEC(0) with 251 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
root     1     0     Soth init [5]
root     2     0     Soth [kthreadd]
root     84    2     Sf50 [IRQ-9
]...
tux      31796 31789 Soth less
root     32653 25222 Roth python ./cset shield --unshield -v</pre></div><p>
    The previous listing is abbreviated—there are 251 tasks running in
    the <code class="literal">system</code> set. However, the <code class="literal">SPPr</code>
    field may need a little
    explanation. SPPr stands for <code class="literal">State, Policy and
    Priority</code>. You can see that the initial two tasks are Stopped
    and running in timeshare priority, marked as <code class="literal">oth</code> (for
    <code class="literal">other</code>). The [IRQ-9] task is also stopped, but marked
    at real time FIFO policy with a priority of 50. The last task in the
    listing is the <code class="command">cset</code> command itself and is marked as
    running. Also note that adding a second <code class="option">-v/--verbose</code>
    option will not restrict the output to fit into an 80 character screen.
   </p><p>
    Tear down of the shield, stopping the shield in other words, is done
    with the <code class="option">-r/--reset</code> option to the shield subcommand.
    When this command is issued, both the <code class="literal">system</code> and
    <code class="literal">user</code> <code class="systemitem">cpuset</code>s are deleted and any tasks that are
    running in both of those <code class="systemitem">cpuset</code>s are moved to the
    <code class="literal">root</code> <code class="systemitem">cpuset</code>. Once so moved, all tasks will have
    access to all resources on the system. For example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield --reset
cset: --&gt; deactivating/reseting shielding
cset: moving 0 tasks from "/user" user set to root set...
cset: moving 250 tasks from "/system" system set to root set...
[==================================================]%
cset: deleting "/user" and "/system" sets
cset: done</pre></div></section><section class="sect1" id="sec-shielding-model-ex-move" data-id-title="Moving interesting tasks into and out of the shield"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">2.3 </span><span class="title-name">Moving interesting tasks into and out of the shield</span> <a title="Permalink" class="permalink" href="#sec-shielding-model-ex-move">#</a></h2></div></div></div><p>
    Now that a shield is running, the objective is to run processes that
    you have categorized as important in that shield. These processes can
    be anything, but usually they are directly related to the purpose of the
    machine. There are two ways to run tasks in the shield:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Execute a process into the shield
     </p></li><li class="listitem"><p>
      Move an already running task into the shield
     </p></li></ul></div><section class="sect2" id="sec-shielding-model-ex-move-exec" data-id-title="Executing a process into the shield"><div class="titlepage"><div><div><h3 class="title"><span class="title-number">2.3.1 </span><span class="title-name">Executing a process into the shield</span> <a title="Permalink" class="permalink" href="#sec-shielding-model-ex-move-exec">#</a></h3></div></div></div><p>
     Running a new process in the shield can be done with the
     <code class="option">-e</code>/<code class="option">--exec</code> option to the <code class="command">shield</code>
     subcommand. This is the simplest way to get a task to run in the
     shield. For this example, execute a new Bash shell into the shield
     with the following commands.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s
cset: "user" cpuset of CPUSPEC(1-3) with 0 tasks running
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -e bash
cset: --&gt; last message, executed args into cpuset "/user", new pid is: 13300


<code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s -v
cset: "user" cpuset of CPUSPEC(1-3) with 2 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
root     13300 8583  Soth bash
root     13329 13300 Roth python ./cset shield -s -v


<code class="prompt user">tux &gt; </code><code class="command">exit</code>


<code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s
cset: "user" cpuset of CPUSPEC(1-3) with 0 tasks running
cset: done</pre></div><p>
     The first command above lists the status of the shield. You see that
     the shield is defined as CPUs 1 through 3 inclusive and currently there
     are no tasks running in it.
    </p><p>
     The second command executes the Bash shell into the shield with the
     <code class="option">-e</code> option. The last message of <code class="command">cset</code>
     lists the PID of the new process.
    </p><div id="id-1.3.4.11.4.6" data-id-title="Separating the tool options from the cset command" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><h6>Note: Separating the tool options from the <code class="command">cset</code> command</h6><p>
      <code class="command">cset</code> follows the tradition of separating the tool
      options from the command to be executed options with a double hyphen
      (<code class="literal">--</code>). This is not shown in this simple example, but
      if the command you want to execute also takes options, separate them with
      the double hyphen as follows:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -e mycommand -- -v</pre></div><p>
      The <code class="option">-v</code> will be passed to mycommand, and not to cset.
     </p></div><p>
     The next command lists the status of the shield again. There are two
     tasks running shielded: our new shell and the cset status command
     itself. Remember that the <code class="systemitem">cpuset</code> property of a task is inherited by its
     children. Since running the new shell in the shield, its child, which is
     the status command, also ran in the shield.
    </p><div id="id-1.3.4.11.4.8" data-id-title="Executing a shell into a shield" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><h6>Tip: Executing a shell into a shield</h6><p>
      Executing a shell into a shield is a useful way to experiment with
      running tasks in the shield since all children of the shell will also
      run in the shield.
     </p></div><p>
     The last command exits the shell. After this, shield status is requested
     again but again, it does not contain any tasks.
    </p><p>
     You may have noticed in the output above that both the new shell and
     the status command are running as the <code class="systemitem">root</code> user. This is
     because cset needs to run as <code class="systemitem">root</code> and so all it is children
     will also run as <code class="systemitem">root</code>. If you need to run a process under a
     different user and or group, you may use the <code class="option">--user</code>
     and <code class="option">--group</code> options for execution as follows.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield --user=tux --group=users -e bash
cset: --&gt; last message, executed args into cpuset "/user", new pid is: 14212


<code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s -v
cset: "user" cpuset of CPUSPEC(1-3) with 2 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
tux      14212 8583  Soth bash
tux      14241 14212 Roth python ./cset shield -s -v</pre></div></section><section class="sect2" id="sec-shielding-model-ex-move-shield-unshield" data-id-title="Moving a running task into and out of the shield"><div class="titlepage"><div><div><h3 class="title"><span class="title-number">2.3.2 </span><span class="title-name">Moving a running task into and out of the shield</span> <a title="Permalink" class="permalink" href="#sec-shielding-model-ex-move-shield-unshield">#</a></h3></div></div></div><p>
     While executing a process into the shield is undoubtedly useful, most of
     the time, you will want to move already running tasks into and out of
     the shield. The <code class="command">cset</code> shield subcommand includes two
     options for doing this: <code class="option">-s/--shield</code> and
     <code class="option">-u/--unshield</code>. These options require a PIDSPEC
     (process specification) to also be specified with the
     <code class="option">-p/--pid</code> option. The PIDSPEC defines which tasks get
     operated on. The PIDSPEC can be a single process ID, a list of process
     IDs separated by commas, and a list of process ID ranges separated by
     dashes, groups of which are separated by commas. For example:
    </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.4.11.5.3.1"><span class="term"><code class="option">--shield --pid</code> 1234</span></dt><dd><p>
        This PIDSPEC argument specifies that PID <code class="literal">1234</code> be
        shielded.
       </p></dd><dt id="id-1.3.4.11.5.3.2"><span class="term"><code class="option">--shield --pid</code> 1234,42,1934,15000,15001,15002</span></dt><dd><p>
        This PIDSPEC argument specifies that this list of PIDs only be moved
        into the shield.
       </p></dd><dt id="id-1.3.4.11.5.3.3"><span class="term"><code class="option">--unshield -p</code> 5000,5100,6010-7000,9232</span></dt><dd><p>
        This PIDSPEC argument specifies that PIDs <code class="literal">5000</code>,
        <code class="literal">5100</code> and <code class="literal">9232</code> be unshielded
        (moved out of the shield) along with any existing PID that is in the
        range <code class="literal">6010</code> through <code class="literal">7000</code>
        inclusive.
       </p></dd></dl></div><div id="id-1.3.4.11.5.4" data-id-title="Information about the range in a PIDSPEC" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><h6>Note: Information about the range in a PIDSPEC</h6><p>
      A range in a PIDSPEC does not need to have tasks running for every
      number in that range. In fact, it is not even an error if there are no
      tasks running in that range: none will be moved in that case. The
      range only specifies to act on any tasks that have a PID or TID that
      is within that range.
     </p></div><p>
     Use of the appropriate PIDSPEC can thus be handy to move tasks and
     groups of tasks into and out of the shield. Additionally, there is one
     more option that can help with multi-threaded processes, and that is
     the <code class="option">--threads</code> flag. If this flag is used together with a
     <code class="command">shield</code> or <code class="command">unshield</code> command with a
     PIDSPEC and if any of the task IDs in the PIDSPEC belong to a thread in
     a process container, then all the
     sibling threads in that process container will get shielded or
     unshielded as well. This flag provides an easy mechanism to
     shield/unshield all threads of a process by simply specifying one
     thread in that process.
    </p><p>
     The following example moves the current shell into the shield
     with a range PIDSPEC and back out with the Bash variable for the
     current PID.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">echo</code> $$
22018


<code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s -p 22010-22020
cset: --&gt; shielding following pidspec: 22010-22020
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s -v
cset: "user" cpuset of CPUSPEC(1-3) with 2 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
root     3770  22018 Roth python ./cset shield -s -v
root     22018 5034  Soth bash
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -u -p $$
cset: --&gt; unshielding following pidspec: 22018
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s
cset: "user" cpuset of CPUSPEC(1-3) with 0 tasks running
cset: done</pre></div></section></section></section><section class="chapter" id="cha-shielding-cpuset" data-id-title="Full-featured cpuset manipulation commands"><div class="titlepage"><div><div><h1 class="title"><span class="title-number">3 </span><span class="title-name">Full-featured cpuset manipulation commands</span> <a title="Permalink" class="permalink" href="#cha-shielding-cpuset">#</a></h1></div></div></div><p>
  While basic shielding as described above is useful and a common use model
  for <code class="command">cset</code>, there comes a time when more functionality
  will be desired to implement your strategy. To implement this,
  <code class="command">cset</code> provides two subcommands: <code class="command">set</code>,
  which allows you to manipulate cpusets; and <code class="command">proc</code>, which
  allows you to manipulate processes within those cpusets.
 </p><section class="sect1" id="sec-shielding-cpuset-set" data-id-title="The set subcommand"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">3.1 </span><span class="title-name">The set subcommand</span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-set">#</a></h2></div></div></div><p>
   To do anything with cpusets, you must be able to create, adjust,
   rename, move, and destroy them. The <code class="command">set</code> subcommand
   allows the management of cpusets in such a manner.
  </p><section class="sect2" id="sec-shielding-cpuset-set-create-destroy" data-id-title="Creating and destroying cpusets with set"><div class="titlepage"><div><div><h3 class="title"><span class="title-number">3.1.1 </span><span class="title-name">Creating and destroying cpusets with <code class="command">set</code></span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-set-create-destroy">#</a></h3></div></div></div><p>
    The basic syntax of <code class="command">set</code> for cpuset creation is:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 1-3 -s my_cpuset1
cset: --&gt; created cpuset "my_cpuset1"</pre></div><p>
    This creates a cpuset named <code class="literal">my_cpuset1</code> with a CPUSPEC
    of CPU1, CPU2 and CPU3. The CPUSPEC is the same concept as described in
    the <a class="xref" href="#sec-shielding-model-ex-setup-teardown" title="2.2. Setup and teardown of the shield">Section 2.2, “Setup and teardown of the shield”</a>. The
    <code class="command">set</code> subcommand also takes a <code class="option">-m</code>/<code class="option">--mem</code>
    option that lets you specify the memory nodes the <code class="command">set</code>
    will use and flags to make the CPUs and MEMs exclusive to the
    cpuset. If you are on a non-NUMA machine, leave the
    <code class="option">-m</code> option out and the default memory node
    <code class="literal">0</code> will be used.
   </p><p>
    Like with <code class="command">shield</code>, you can adjust the CPUs and
    MEMs with subsequent calls to set. If, for example, you want to adjust
    the <code class="literal">my_cpuset1</code> cpuset to only use CPUs 1 and 3 (and
    omit CPU2), then issue the following command.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 1,3 -s my_cpuset1
cset: --&gt; modified cpuset "my_cpuset</pre></div><p>
    <code class="command">cset</code> will then adjust the CPUs that are assigned to
    the <code class="literal">my_cpuset1</code> set to only use CPU1 and CPU3.
   </p><p>
    To rename a cpuset, use the <code class="option">-n/--newname</code> option. For
    example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -s my_cpuset1 -n super_set
cset: --&gt; renaming "/cpusets/my_cpuset1" to "super_set"</pre></div><p>
    Renames the cpuset called <code class="literal">my_cpuset1</code> to
    <code class="literal">super_set</code>.
   </p><p>
    To destroy a cpuset, use the <code class="option">-d/--destroy</code> option as
    follows.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -d super_set
cset: --&gt; processing cpuset "super_set", moving 0 tasks to parent "/"...
cset: --&gt; deleting cpuset "/super_set"
cset: done</pre></div><p>
    This command destroys the newly created cpuset called
    <code class="literal">super_set</code>. When a cpuset is destroyed, all the tasks
    running in it are moved to the parent cpuset. The root cpuset, which
    always exists and always contains all CPUs, cannot be destroyed. You may
    also give the <code class="option">--destroy</code> option a list of cpusets to
    destroy.
   </p><div id="id-1.3.5.3.3.14" data-id-title="Information about the mounted cpuset file system" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><h6>Note: Information about the mounted cpuset file system</h6><p>
     The <code class="command">cset</code> subcommand creates the cpusets based on a
     mounted cpuset file system. You do not need to know where that file
     system is mounted, although it is easy to figure out (by default it is
     on <code class="filename">/cpusets</code>). When you give the
     <code class="command">set</code> subcommand a name for a new cpuset, it is
     created wherever the cpuset file system is mounted.
    </p></div><p>
    To create a cpuset hierarchy, then you must give a path to
    the <code class="command">cset set</code> subcommand. This path will always begin
    with the root cpuset, for which the path is <code class="filename">/</code>. For
    example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 1,3 -s top_set
cset: --&gt; created cpuset "top_set"


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 3 -s /top_set/sub_set
cset: --&gt; created cpuset "/top_set/sub_set"</pre></div><p>
    These commands created two cpusets: <code class="literal">top_set</code> and
    <code class="literal">sub_set</code>. The <code class="literal">top_set</code> uses CPU1 and
    CPU3. It has a subset of <code class="literal">sub_set</code> which only uses
    CPU3. Once you have created a subset with a path, then if the name is
    unique, you do not need to specify the path to affect it. If
    the name is not unique, then <code class="command">cset</code> will complain and
    ask you to use the path. For example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 1,3 -s sub_set
cset: --&gt; modified cpuset "sub_set</pre></div><p>
    This command adds CPU1 to the <code class="literal">sub_set</code> cpuset for its
    use. Note that using the path in this case is optional.
   </p><p>
    If you attempt to destroy a cpuset which has sub-cpusets,
    <code class="command">cset</code> will complain and not do it unless you use the
    <code class="option">-r/--recurse</code> and the <code class="option">--force</code> options.
    If you do use <code class="option">--force</code>, then all the tasks running in
    all subsets of the deletion target cpuset will be moved to the
    target’s parent cpuset and all cpusets.
   </p><p>
    Moving a cpuset from under a certain cpuset to a different location is
    not implemented.
   </p></section><section class="sect2" id="sec-shielding-cpuset-set-list" data-id-title="Listing cpusets with set"><div class="titlepage"><div><div><h3 class="title"><span class="title-number">3.1.2 </span><span class="title-name">Listing cpusets with set</span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-set-list">#</a></h3></div></div></div><p>
    To list cpusets, use the <code class="command">set</code> subcommand with the
    <code class="option">-l/--list</code> option. For example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       320   1    /
one          3 n          0 n       0     1    /one</pre></div><p>
    This shows that there is currently one cpuset present called
    <code class="literal">one</code>. (Of course there is also the
    <code class="literal">root</code> set, which is always present.) The output shows
    that the one cpuset has no tasks running in it. The
    <code class="literal">root</code> cpuset has 320 tasks running. The
    <code class="option">-X</code> for CPUs and MEMs fields denotes whether the CPUs
    and MEMs in the cpusets are marked exclusive to those cpusets. Note that
    the <code class="literal">one</code> cpuset has subsets as indicated by a
    <code class="literal">1</code> in the <code class="literal">Subs</code> field. You can
    specify a cpuset to list with the <code class="command">set</code> subcommand as
    follows:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l -s one
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
one          3 n          0 n       0     1   /one
two          3 n          0 n       0     1   /one/two</pre></div><p>
    This output shows that there is a cpuset called <code class="literal">two</code>
    in cpuset <code class="literal">one</code> and it also has subset. You can also
    ask for a recursive listing as follows:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l -r
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       320   1    /
one          3 n          0 n       0     1    /one
two          3 n          0 n       0     1    /one/two
three        3 n          0 n       0     0    /one/two/three</pre></div><p>
    This command lists all cpusets existing on the system since it asks for
    a recursive listing beginning at the <code class="literal">root</code> cpuset.
    Incidentally, should you need to specify the <code class="literal">root</code>
    cpuset you can use either <code class="filename">root</code> or
    <code class="filename">/</code> to specify it explicitly—just remember that the
    <code class="literal">root</code> cpuset cannot be deleted or modified.
   </p></section></section><section class="sect1" id="sec-shielding-cpuset-proc" data-id-title="The proc subcommand"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">3.2 </span><span class="title-name">The <code class="command">proc</code> subcommand</span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-proc">#</a></h2></div></div></div><p>
   Now that you know how to create, rename and destroy cpusets with the
   <code class="command">set</code> subcommand, the next step is to manage threads and
   processes in those cpusets. The subcommand to do this is called
   <code class="command">proc</code> and it allows you to execute processes into a
   cpuset, move existing tasks around existing cpusets, and list tasks
   running in specified cpusets. For the following examples, let us assume a
   cpuset setup of two sets as follows:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       309   2    /
two          2 n          0 n       3     0    /two
three        3 n          0 n       10    0    /three</pre></div><section class="sect2" id="sec-shielding-cpuset-proc-list" data-id-title="Listing tasks with proc"><div class="titlepage"><div><div><h3 class="title"><span class="title-number">3.2.1 </span><span class="title-name">Listing tasks with <code class="command">proc</code></span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-proc-list">#</a></h3></div></div></div><p>
    Operation of the <code class="command">proc</code> subcommand follows the same
    model as the <code class="command">set</code> subcommand. For example, to list
    tasks in a cpuset, you need to use the <code class="option">-l/--list</code> option
    and specify the cpuset by name or, if the name exists multiple times in
    the cpuset hierarchy, by path. For example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s two
cset: "two" cpuset of CPUSPEC(2) with 3 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
root     16141 4300  Soth bash
root     16171 16141 Soth bash
root     16703 16171 Roth python ./cset proc -l two</pre></div><p>
    This output shows us that the cpuset called two has CPU2 only attached
    to it and is running three tasks: two shells and the
    <code class="command">python</code> command to list it. Note that cpusets are
    inherited so that if a process is contained in a cpuset, then any
    children it spawns also run within that set. In this case, the
    <code class="command">python</code> command to list set <code class="literal">two</code> was
    run from a shell already running in set <code class="literal">two</code>. This can
    be seen by the PPID (parent process ID) of the <code class="command">python</code>
    command matching the PID of the shell.
   </p><p>
    Additionally, the <code class="literal">SPPr</code> field needs explanation. SPPr
    stands for <code class="literal">State, Policy and Priority</code>. You can see
    that the initial two tasks are stopped and running in timeshare
    priority, marked as <code class="literal">oth</code> (for
    <code class="literal">other</code>). The last task is marked as running,
    <code class="literal">R</code> and at timeshare priority,
    <code class="literal">oth</code>. If any of these tasks would have been at real
    time priority, the policy would be shown as <code class="literal">f</code>
    for FIFO or <code class="literal">r</code> for round robin. The priority would
    be a number from 1 to 99. See below for an example.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s root | head -7
cset: "root" cpuset of CPUSPEC(0-3) with 309 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
root        1     0 Soth init [5]
root        2     0 Soth [kthreadd]
root        3     2 Sf99 [migration/0]
root        4     2 Sf99 [posix_cpu_timer]</pre></div><p>
    This output shows the first few tasks in the <code class="literal">root</code>
    cpuset. Note that both <code class="literal"> init</code> and
    <code class="literal">[kthread]</code> are running at timeshare; however, the
    <code class="literal">[migration/0]</code> and
    <code class="literal">[posix_cpu_timer]</code> kernel threads are running at
    real-time policy of FIFO and priority of <code class="literal">99</code>.
    Incidentally, this output is from a system running the real-time Linux
    kernel which runs some kernel threads at real-time priorities. And
    finally, note that you can use <code class="command">cset</code> as any other
    Linux tool and include it in pipelines as in the example above.
   </p><p>
    Taking a peek into the third cpuset called <code class="literal">three</code>, you
    can see output such as:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s three
cset: "three" cpuset of CPUSPEC(3) with 10 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
tux      16165     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16169     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16170     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16237     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16491     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16492     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16493     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      17243     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      17244     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      17265     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...</pre></div><p>
    This output shows that a lot of <code class="literal">beagled</code> tasks are
    running in this cpuset and it also shows an ellipsis
    (<code class="literal">…</code>) at the end of their listings. If you see this
    ellipsis, that means that the command was too long to fit onto an 80
    character screen. To see the entire command line, use the
    <code class="option">-v/--verbose</code> flag:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s three -v | head -4
cset: "three" cpuset of CPUSPEC(3) with 10 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
tux      16165     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg --autostarted --indexing-delay 300</pre></div></section><section class="sect2" id="sec-shielding-cpuset-proc-exec" data-id-title="Execing tasks with proc"><div class="titlepage"><div><div><h3 class="title"><span class="title-number">3.2.2 </span><span class="title-name">Execing tasks with <code class="literal">proc</code></span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-proc-exec">#</a></h3></div></div></div><p>
    To execute a task into a cpuset, the <code class="command">proc</code> subcommand
    needs to be employed with the <code class="option">-e/--exec</code> option. Let us
    execute a shell into the cpuset named <code class="literal">two</code> in our set.
    First, check to see what is running that set:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s two
cset: "two" cpuset of CPUSPEC(2) with 0 tasks running

<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -s two -e bash
cset: --&gt; last message, executed args into cpuset "/two", new pid is: 20955

<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s two
cset: "two" cpuset of CPUSPEC(2) with 2 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
root     20955 19253 Soth bash
root     20981 20955 Roth python ./cset proc -l two</pre></div><p>
    You can see that initially, <code class="literal">two</code> had nothing running
    in it. After the completion of the second command, list
    <code class="literal">two</code> again and see that there are two tasks running:
    the shell which you executed and the <code class="command">python cset</code> command
    that is listing the cpuset. The reason for the second task is that the
    cpuset property of a running task is inherited by all its children.
    Because you executed the listing command from the new shell which was bound
    to cpuset two, the resulting process for the listing is also bound to
    cpuset <code class="literal">two</code>. Let us test that by running a new
    shell with no prefixed <code class="command">cset</code> command.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">bash</code>


<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s two
cset: "two" cpuset of CPUSPEC(2) with 3 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
root     20955 19253 Soth bash
root     21118 20955 Soth bash
root     21147 21118 Roth python ./cset proc -l two</pre></div><p>
    Here again, you can see that the second shell, PID <code class="literal">21118</code>,
    has a parent PID of <code class="literal">20955</code> which is the first shell.
    Both shells, and the listing command, are running in the two cpuset.
   </p><div id="id-1.3.5.4.5.7" data-id-title="Separating the Tool Options From the cset Command" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><h6>Note: Separating the Tool Options From the cset Command</h6><p>
     <code class="command">cset</code> follows the tradition of separating the tool
     options from the command to be executed options with a double hyphen
     (<code class="literal">--</code>). This is not shown in this simple example, but
     if the command you want to execute also takes options, separate them with
     the double hyphen as follows:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -s myset -e mycommand -- -v</pre></div><p>
     The <code class="option">-v</code> will be passed to
     <em class="replaceable">mycommand</em>, and not to <code class="option">cset</code>.
    </p></div><div id="id-1.3.5.4.5.8" data-id-title="Executing a shell into a cpuset" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.svg"/><h6>Tip: Executing a shell into a cpuset</h6><p>
     Executing a shell into a cpuset is a useful way to experiment with
     running tasks in that cpuset since all children of the shell will also
     run in the same cpuset.
    </p></div><p>
    If you misspell the command to be
    executed, the result may be puzzling. For example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -s two -e blah-blah
cset: --&gt; last message, executed args into cpuset "/two", new pid is: 21655
cset: **&gt; [Errno 2] No such file or directory</pre></div><p>
    The result is no new process even though a new PID is output. The reason
    for the message is of course that the <code class="command">cset</code> process
    forked in preparation of the execution, but the command
    <code class="command">blah-blah</code> was not found to execute it.
   </p></section><section class="sect2" id="sec-shielding-cpuset-proc-move" data-id-title="Moving tasks with proc"><div class="titlepage"><div><div><h3 class="title"><span class="title-number">3.2.3 </span><span class="title-name">Moving tasks with <code class="command">proc</code></span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-proc-move">#</a></h3></div></div></div><p>
    Although the ability to execute a task into a cpuset is fundamental, you
    will most likely be moving tasks between cpusets more often. Moving
    tasks is accomplished with the <code class="option">-m/--move</code> and
    <code class="option">-p/--pid</code> options to the <code class="command">proc</code>
    subcommand of <code class="command">cset</code>. The <code class="option">move</code> option
    tells the <code class="command">proc</code> subcommand that a task move is
    requested. The <code class="option">-p/--pid</code> option takes an argument called
    a PIDSPEC (PID Specification). The PIDSPEC defines which tasks get
    operated on.
   </p><p>
    The PIDSPEC can be a single process ID, a list of process IDs separated
    by commas, and a list of process ID ranges also separated by commas. For
    example:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.3.5.4.6.4.1"><span class="term"><code class="option">--pid</code> 1234</span></dt><dd><p>
       This PIDSPEC argument specifies that PID <code class="literal">1234</code> will be
       moved.
      </p></dd><dt id="id-1.3.5.4.6.4.2"><span class="term"><code class="option">--pid</code> 1234,42,1934,15000,15001,15002</span></dt><dd><p>
       This PIDSPEC argument specifies that only listed tasks will be
       moved.
      </p></dd><dt id="id-1.3.5.4.6.4.3"><span class="term"><code class="option">-p</code> 5000,5100,6010-7000,9232</span></dt><dd><p>
       This PIDSPEC argument specifies that tasks <code class="literal">5000</code>,
       <code class="literal">5100</code> and <code class="literal">9232</code> will be moved along
       with any existing task with PID in the range <code class="literal">6010</code>
       through <code class="literal">7000</code> inclusive.
      </p></dd></dl></div><div id="id-1.3.5.4.6.5" data-id-title="Information about the range in a PIDSPEC" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><h6>Note: Information about the range in a PIDSPEC</h6><p>
     A range in a PIDSPEC does not need to have running tasks for every
     number in that range. In fact, it is not even an error if there are no
     tasks running in that range; none will be moved in that case. The range
     simply specifies to act on any tasks that have a PID or TID that is
     within that range.
    </p></div><p>
    The following example moves the current shell into the cpuset
    named <code class="literal">two</code> with a range PIDSPEC and back out to the
    <code class="literal">root</code> cpuset with the Bash variable for the current
    PID.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s two
cset: "two" cpuset of CPUSPEC(2) with 0 tasks running


<code class="prompt user">tux &gt; </code><code class="command">echo</code> $$
19253


<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -p 19250-19260 -t two
cset: moving following pidspec: 19253
cset: moving 1 userspace tasks to /two
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s two
cset: "two" cpuset of CPUSPEC(2) with 2 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
root     19253 16447 Roth bash
root     29456 19253 Roth python ./cset proc -l -s two


<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -p $$ -t root
cset: moving following pidspec: 19253
cset: moving 1 userspace tasks to /
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s two
cset: "two" cpuset of CPUSPEC(2) with 0 tasks running</pre></div><p>
    Use of the appropriate PIDSPEC can thus be handy to move tasks and
    groups of tasks. Additionally, there is one more option that can help
    with multi-threaded processes, and that is the
    <code class="option">--threads</code> flag. If this flag is used together with the
    <code class="command">proc</code> move command with a PIDSPEC and if any of the
    task IDs in the PIDSPEC belongs to a thread in a process container, then
    <span class="emphasis"><em>all</em></span> the sibling threads in that process container
    will also get moved. This flag provides an easy mechanism to move all
    threads of a process by simply specifying one thread in that process.
    The following example moves all threads running in cpuset
    <code class="literal">three</code> to cpuset <code class="literal">two</code> by using the
    <code class="option">--threads</code> flag.
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set two three
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
two          2 n          0 n       0     0    /two
three        3 n          0 n       10    0    /three


<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s three
cset: "three" cpuset of CPUSPEC(3) with 10 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
tux      16165     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16169     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16170     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16237     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16491     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16492     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      16493     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      17243     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      17244     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux      27133     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...


<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -p 16165 --threads -t two
cset: moving following pidspec: 16491,16493,16492,16170,16165,16169,27133,17244,17243,16237
cset: moving 10 userspace tasks to /two
[==================================================]%
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set two three
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
two          2 n          0 n       10    0    /two
three        3 n          0 n       0     0    /three</pre></div><section class="sect3" id="sec-shielding-cpuset-proc-move-taskset" data-id-title="Moving all tasks from one cpuset to another"><div class="titlepage"><div><div><h4 class="title"><span class="title-number">3.2.3.1 </span><span class="title-name">Moving all tasks from one cpuset to another</span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-proc-move-taskset">#</a></h4></div></div></div><p>
     There is a special case for moving all tasks currently running in one
     cpuset to another. This can be a common use case, and when you need to
     do it, specifying a PIDSPEC with <code class="option">-p</code> is not necessary
     so long as you use the <code class="option">-f/--fromset</code>
     <span class="emphasis"><em>and</em></span> the <code class="option">-t/--toset</code> options.
    </p><p>
     The following example moves all 10 <code class="literal">beagled</code>
     threads back to cpuset <code class="literal">three</code> with this method.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l two three
cset: "two" cpuset of CPUSPEC(2) with 10 tasks running
USER      PID   PPID  SPPr TASK NAME
--------  ----- ----- ---- ---------
tux       16165     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -…
tux       16169     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux       16170     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux       16237     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux       16491     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux       16492     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux       16493     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux       17243     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux       17244     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
tux       27133     1 Soth beagled /usr/lib64/beagle/BeagleDaemon.exe --bg -...
cset: "three" cpuset of CPUSPEC(3) with 0 tasks running


<code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -f two -t three
cset: moving all tasks from two to /three
cset: moving 10 userspace tasks to /three
[==================================================]%
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set two three
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
two          2 n          0 n       0     0    /two
three        3 n          0 n       10    0    /three</pre></div></section><section class="sect3" id="sec-shielding-cpuset-proc-move-threads" data-id-title="Moving kernel threads with proc"><div class="titlepage"><div><div><h4 class="title"><span class="title-number">3.2.3.2 </span><span class="title-name">Moving kernel threads with <code class="command">proc</code></span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-proc-move-threads">#</a></h4></div></div></div><p>
     Kernel threads are special and <code class="command">cset</code> detects tasks
     that are kernel threads and will refuse to move them unless you also
     add a <code class="option">-k/--kthread</code> option to your
     <code class="command">proc</code> move command. Even if you include
     <code class="option">-k</code>, <code class="command">cset</code> will still refuse to move
     the kernel thread if they are bound to specific CPUs. The reason for
     this is system protection.
    </p><p>
     Several kernel threads, especially on the real-time Linux kernel,
     are bound to specific CPUs and depend on per-CPU kernel variables. If
     you move these threads to a different CPU than what they are bound to,
     you risk at best that the system will become horribly slow, and at
     worst a system hang. If you must move those threads (after all,
     <code class="command">cset</code> needs to give the knowledgeable user access to
     the keys), then you also need to use the <code class="option">--force</code>
     option.
    </p><div id="id-1.3.5.4.6.11.4" data-id-title="Use --force with care" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.svg"/><h6>Warning: Use <code class="option">--force</code> with care</h6><p>
      Overriding a task move command with <code class="option">--force</code> can have
      dire consequences for the system. Be sure of the command before you
      force it.
     </p></div><p>
     The following example moves all unbound kernel threads running in
     the root cpuset to the cpuset named two by using the
     <code class="option">-k</code> option.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -k -f root -t two
cset: moving all kernel threads from / to /two
cset: moving 70 kernel threads to: /two
cset: --&gt; not moving 76 threads (not unbound, use --force)
[==================================================]%
cset: done</pre></div><p>
     This example uses the fromset→toset facility of the
     <code class="command">proc</code> subcommand. However, it only specifies the
     <code class="option">-k</code> option (not the <code class="option">-m</code> option). This
     has the effect of moving all kernel threads only.
    </p><p>
     Note that only 70 actual kernel threads were moved and 76 were not. The
     reason that 76 kernel threads were not moved was because they are bound
     to specific CPUs. Now, let us move those kernel threads back to
     <code class="literal">root</code>.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -k -f two -t root
cset: moving all kernel threads from /two to /
cset: ** no task matched move criteria
cset: **&gt; kernel tasks are bound, use --force if ok


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l -s two
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
two          2 n          0 n       70    0    /two</pre></div><p>
     <code class="command">cset</code> refused to move the kernel threads back to
     <code class="literal">root</code> because it says that they are
     <span class="quote">“<span class="quote">bound</span>”</span>. Let us check this with the
     <code class="command">taskset</code> command.
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s two | head -5
cset: "two" cpuset of CPUSPEC(2) with 70 tasks running
USER     PID   PPID  SPPr TASK NAME
-------- ----- ----- ---- ---------
root         2     0 Soth [kthreadd]
root        55     2 Soth [khelper]


<code class="prompt user">tux &gt; </code><code class="command">taskset</code> -p 2
pid 2's current affinity mask: 4


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l -s two
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
two          2 n          0 n       70    0    /two</pre></div><p>
     Of course, since the cpuset named <code class="literal">two</code> only has CPU2
     assigned to it, after it was moved the unbound kernel threads from
     <code class="literal">root</code> to <code class="literal">two</code>, their affinity masks
     got automatically changed to only use CPU2. This is evident from the
     <code class="command">taskset</code> output which is a hex value. To really move
     these threads back to root, force the move as follows:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -k -f two -t root --force
cset: moving all kernel threads from /two to /
cset: moving 70 kernel threads to: /
[==================================================]%
cset: done</pre></div></section></section><section class="sect2" id="sec-shielding-cpuset-proc-destroy" data-id-title="Destroying tasks"><div class="titlepage"><div><div><h3 class="title"><span class="title-number">3.2.4 </span><span class="title-name">Destroying tasks</span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-proc-destroy">#</a></h3></div></div></div><p>
    There actually is no <code class="command">cset</code> subcommand or option to
    destroy tasks—it is not really needed. Tasks exist and are accessible
    on the system as normal, even if they happen to be running in one cpuset
    or another. To destroy tasks, use the usual
    <span class="keycap">Ctrl</span><span class="key-connector">–</span><span class="keycap">C</span>
    method or by using the <code class="command">kill(1)</code> command.
   </p></section></section><section class="sect1" id="sec-shielding-cpuset-shielding-set-proc" data-id-title="Implementing shielding with set and proc"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">3.3 </span><span class="title-name">Implementing shielding with <code class="command">set</code> and <code class="command">proc</code></span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-shielding-set-proc">#</a></h2></div></div></div><p>
   With the preceding material on the <code class="command">set</code> and
   <code class="command">proc</code> subcommands, you now have the background to
   implement the basic shielding model, like the <code class="command">shield</code>
   subcommand.
  </p><p>
   While <code class="command">shield</code> provides this functionality already, doing
   this manually can still be useful. For example, to implement a shielding
   strategy that need more functionality than <code class="command">shield</code> can
   provide. In such cases, you need to first
   stop using <code class="command">shield</code> since that subcommand will interfere
   with the further application of <code class="command">set</code> and
   <code class="command">proc</code>. However, you will still need to implement the
   functionality of <code class="command">shield</code> to implement
   successful shielding.
  </p><p>
   Remember from the above sections describing <code class="command">shield</code>,
   that shielding has at minimum three cpusets: <code class="literal">root</code>,
   which is always present and contains all CPUs; <code class="literal">system</code>
   which is the <span class="emphasis"><em>non-shielded</em></span> set of CPUs and runs
   unimportant system tasks; and <code class="literal">user</code>, which is the
   <span class="emphasis"><em>shielded</em></span> set of CPUs and runs your important tasks.
   Remember also that <code class="command">shield</code> moves all movable tasks into
   <code class="literal">system</code> and, optionally, moves unbound kernel threads
   into <code class="literal">system</code> as well.
  </p><p>
   You start first by creating the <code class="literal">system</code> and
   <code class="literal">user</code> cpusets as follows. Let us assume that the machine
   is a four-CPU machine without NUMA memory features. The system cpuset
   should hold only CPU0 while the user cpuset should hold the rest of the
   CPUs.
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 0 -s system
cset: --&gt; created cpuset "system"


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 1-3 -s user
cset: --&gt; created cpuset "user"


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       333   2    /
user         1-3 n        0 n       0     0    /user
system       0 n          0 n       0     0    /system</pre></div><p>
   Now, move all running user processes into the
   <code class="literal">system</code> cpuset:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -f root -t system
cset: moving all tasks from root to /system
cset: moving 188 userspace tasks to /system
[==================================================]%
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       146    2   /
user         1-3 n        0 n       0      0   /user
system       0 n          0 n       187    0   /system</pre></div><p>
   This completes the basic shielding setup. Since all user space tasks are
   running in <code class="literal">system</code>, anything that is spawned from them
   will also run in <code class="literal">system</code>. The <code class="literal">user</code>
   cpuset has nothing running in it unless you put tasks there with the
   <code class="command">proc</code> subcommand as described above. If you also want
   to move movable kernel threads from <code class="literal">root</code> to
   <code class="literal">system</code> (to achieve a form of <span class="quote">“<span class="quote">interrupt
   shielding</span>”</span> on a real time Linux kernel, for example), you would
   execute the following command as well:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -k -f root -t system
cset: moving all kernel threads from / to /system
cset: moving 70 kernel threads to: /system
cset: --&gt; not moving 76 threads (not unbound, use --force)
[==================================================]%
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       76    2    /
user         1-3 n        0 n       0     0    /user
system       0 n          0 n       257   0    /system</pre></div><p>
   At this point, you have achieved the simple shielding model that the
   <code class="command">shield</code> subcommand provides. You can now add other
   cpuset definitions to expand your shielding strategy beyond that simple
   model.
  </p></section><section class="sect1" id="sec-shielding-cpuset-hierarchy-set-proc" data-id-title="Implementing hierarchy with set and proc"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">3.4 </span><span class="title-name">Implementing hierarchy with set and proc</span> <a title="Permalink" class="permalink" href="#sec-shielding-cpuset-hierarchy-set-proc">#</a></h2></div></div></div><p>
   One popular extended <span class="emphasis"><em>shielding</em></span> model is based on
   hierarchical cpusets, each with diminishing numbers of CPUs. This model
   is used to create <span class="emphasis"><em>priority cpusets</em></span> that allow
   assignment of CPU resources to tasks based on some arbitrary priority
   definition. The idea is that a higher priority task will get access to
   more CPU resources than a lower priority task.
  </p><p>
   The example provided here once again assumes a machine with four CPUs and
   no NUMA memory features. This base serves to illustrate the point well;
   however, note that if your machine has (many) more CPUs, then strategies
   such as this and others get more interesting.
  </p><p>
   Define a shielding setup as in the previous section where there is a
   <code class="literal">system</code> cpuset with only CPU0 that takes care of
   <span class="quote">“<span class="quote">unimportant</span>”</span> system tasks. You will usually require this
   type of cpuset since it forms the basis of shielding. Modify the
   strategy to not use a <code class="literal">user</code> cpuset—instead create
   several new cpusets each holding one more CPU than the other. These
   cpusets will be called <code class="literal">prio_low</code> with one CPU,
   <code class="literal">prio_med</code> with two CPUs, <code class="literal">prio_high</code>
   with three CPUs, and <code class="literal">prio_all</code> with all CPUs.
  </p><div id="id-1.3.5.6.5" data-id-title="The sense behind creating a prio_all cpuset with all CPUs" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><h6>Note: The sense behind creating a prio_all cpuset with all CPUs</h6><p>
    You may ask, why create a <code class="literal">prio_all</code> with all CPUs when
    that is substantially the definition of the <code class="literal">root</code>
    cpuset? The answer is that it is best to keep a separation between the
    <code class="literal">root</code> cpuset and everything else, even if a particular
    cpuset duplicates <code class="literal">root</code> exactly. Usually, automation
    is build on top of a cpuset strategy. In these cases, it is best to
    avoid using invariant names of cpusets, such as <code class="literal">root</code>
    for example, in this automation.
   </p></div><p>
   All of these <code class="literal">prio_*</code> cpusets can be created under root,
   in a flat way; however, it is advantageous to create them as a hierarchy.
   The reasoning for this is twofold: first, if a cpuset is destroyed, all
   its tasks are moved to its parent; second, one can use exclusive CPUs in
   a hierarchy.
  </p><p>
   If a cpuset has CPUs that are exclusive to it, then other cpusets may not
   use those CPUs unless they are children of that cpuset. This has
   more relevance to machines with many CPUs and more complex strategies.
  </p><p>
   Start with a clean slate and build the appropriate cpusets as follows:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -r
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       344   0    /


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 0-3 prio_all
cset: --&gt; created cpuset "prio_all"


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 1-3 /prio_all/prio_high
cset: --&gt; created cpuset "/prio_all/prio_high"


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 2-3 /prio_all/prio_high/prio_med
cset: --&gt; created cpuset "/prio_all/prio_high/prio_med"


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 3 /prio_all/prio_high/prio_med/prio_low
cset: --&gt; created cpuset "/prio_all/prio_high/prio_med/prio_low"


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 0 system
cset: --&gt; created cpuset "system"


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l -r
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       344   2    /
system       0 n          0 n       0     0    /system
prio_all     0-3 n        0 n       0     1    /prio_all
prio_high    1-3 n        0 n       0     1    /prio_all/prio_high
prio_med     2-3 n        0 n       0     1    /prio_all/prio_high/prio_med
prio_low     3 n          0 n       0     0    /prio_all/pr...rio_med/prio_low</pre></div><div id="id-1.3.5.6.10" data-id-title="Why -r/--recurse is needed in this case" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.svg"/><h6>Note: Why <code class="option">-r/--recurse</code> is needed in this case</h6><p>
    The option <code class="option">-r</code>/<code class="option">--recurse</code> lists all the
    sets in the last command above. If you execute that command without
    <code class="option">-r/--recurse</code>, <code class="literal">prio_med</code> and
    <code class="literal">prio_low</code> cpusets would not appear.
   </p></div><p>
   The strategy is now implemented. This means that you can move all user space
   tasks and all movable kernel threads into the <code class="literal">system</code>
   cpuset to activate the shield.
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -k -f root -t system
cset: moving all tasks from root to /system
cset: moving 198 userspace tasks to /system
cset: moving 70 kernel threads to: /system
cset: --&gt; not moving 76 threads (not unbound, use --force)
[==================================================]%
cset: done


<code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l -r
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       76    2    /
system       0 n          0 n       268   0    /system
prio_all     0-3 n        0 n       0     1    /prio_all
prio_high    1-3 n        0 n       0     1    /prio_all/prio_high
prio_med     2-3 n        0 n       0     1    /prio_all/prio_high/prio_med
prio_low     3 n          0 n       0     0    /prio_all/pr...rio_med/prio_low</pre></div><p>
   The shield is now active. Since the <code class="literal">prio_*</code> cpuset
   names are unique, you can assign tasks to them either via their simple
   name, or their full path (as described in
   <a class="xref" href="#sec-shielding-cpuset-proc-exec" title="3.2.2. Execing tasks with proc">Section 3.2.2, “Execing tasks with <code class="literal">proc</code>”</a>).
  </p><p>
   You may have noted that there is an ellipsis in the path of the
   <code class="literal">prio_low</code> cpuset in the listing above. This is done
   to fit the output onto an 80 character screen. To see
   the entire line, use the <code class="option">-v</code>/<code class="option">--verbose</code>
   flag as follows:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l -r -v
cset:
Name         CPUs-X       MEMs-X    Tasks Subs Path
------------ ---------- - ------- - ----- ---- ----------
root         0-3 y        0 y       76    2    /
system       0 n          0 n       268   0    /system
prio_all     0-3 n        0 n       0     1    /prio_all
prio_high    1-3 n        0 n       0     1    /prio_all/prio_high
prio_med     2-3 n        0 n       0     1    /prio_all/prio_high/prio_med
prio_low     3 n          0 n       0     0    /prio_all/prio_high/prio_med/prio_low</pre></div></section></section><section class="chapter" id="cha-shielding-shortcuts" data-id-title="Using shortcuts"><div class="titlepage"><div><div><h1 class="title"><span class="title-number">4 </span><span class="title-name">Using shortcuts</span> <a title="Permalink" class="permalink" href="#cha-shielding-shortcuts">#</a></h1></div></div></div><p>
  The commands listed in the previous sections always used all the required
  options. However, <code class="command">cset</code> does have a shortcut facility
  that will execute certain commands without specifying all options. An
  effort has been made to do this with the <span class="quote">“<span class="quote">principle of least
  surprise</span>”</span>. This means that if you do not specify options, but do
  specify parameters, then the outcome of the command should be intuitive as
  possible.
 </p><p>
  Using shortcuts is not necessary. In fact, you can use either shortcuts or
  long options. However, using long options instead of shortcuts does have a
  use case: when you write a script intended to be self-documenting, or
  perhaps when you generate <code class="command">cset</code> documentation.
 </p><p>
  To begin, the subcommands <code class="command">shield</code>,
  <code class="command">set</code> and <code class="command">proc</code> can themselves be
  shortened to the fewest number of characters that are unambiguous. For
  example, the following commands are identical:
 </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="width: 50%; " class="c1"/><col style="width: 50%; " class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
      <p>
       Long method
      </p>
     </th><th style="border-bottom: 1px solid ; ">
      <p>
       Short method
      </p>
     </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s -p 1234</pre></div>
     </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> sh -s -p 1234</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 1,3 -s newset</pre></div>
     </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> se -c 1,3 -s newset</pre></div>
     </td></tr><tr><td style="border-right: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -s newset -e bash</pre></div>
     </td><td>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p -s newset -e bash</pre></div>
     </td></tr></tbody></table></div><p>
  The <code class="command">proc</code> command can be shortened to
  <code class="command">p</code>, while <code class="command">shield</code> and
  <code class="command">set</code> need two letters to disambiguate.
 </p><section class="sect1" id="sec-shielding-shortcuts-shield" data-id-title="shield subcommand shortcuts"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">4.1 </span><span class="title-name"><code class="command">shield</code> subcommand shortcuts</span> <a title="Permalink" class="permalink" href="#sec-shielding-shortcuts-shield">#</a></h2></div></div></div><p>
   The <code class="command">shield</code> subcommand supports two areas with
   shortcuts: the short method (when there are no options given and where to
   shield is the common use case), and the long method (which makes
   <code class="option">-p/--pid</code> optional for the <code class="option">-s/--shield</code>
   and <code class="option">-u/--unshield</code> options).
  </p><p>
   For the common use case of actually shielding either a PIDSPEC or executing
   a command into the shield, the following <code class="command">cset</code> commands
   are equivalent.
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="width: 50%; " class="c1"/><col style="width: 50%; " class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; "><p>Long method</p></th><th style="border-bottom: 1px solid ; "><p>Short method</p></th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s -p 1234,500-649</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> sh 1234,500-649</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s -e bash</pre></div>
      </td><td>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> sh bash</pre></div>
      </td></tr></tbody></table></div><p>
   When using the <code class="option">-s</code> or <code class="option">-u</code> shield/unshield
   options, it is optional to use the <code class="option">-p</code> option to specify
   a PIDSPEC. For example:
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="width: 50%; " class="c1"/><col style="width: 50%; " class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Long method
       </p>
      </th><th style="border-bottom: 1px solid ; ">
       <p>
        Short method
       </p>
      </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -s -p 1234</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> sh -s 1234</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> shield -u -p 1234</pre></div>
      </td><td>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> sh -u 1234</pre></div>
      </td></tr></tbody></table></div></section><section class="sect1" id="sec-shielding-shortcuts-set" data-id-title="set subcommand shortcuts"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">4.2 </span><span class="title-name"><code class="command">set</code> subcommand shortcuts</span> <a title="Permalink" class="permalink" href="#sec-shielding-shortcuts-set">#</a></h2></div></div></div><p>
   The <code class="command">set</code> subcommand has a limited number of shortcuts.
   The option <code class="option">--set</code> is optional usually
   and the <code class="option">--list</code> option is also optional to
   list sets. For example, these commands are equivalent:
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="width: 50%; " class="c1"/><col style="width: 50%; " class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Long method
       </p>
      </th><th style="border-bottom: 1px solid ; ">
       <p>
        Short method
       </p>
      </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -l -s myset</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> se -l myset</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> se -l myset</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> se myset</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -c 1,2,3 -s newset</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> se -c 1,2,3 newset</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -d -s newset</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> se -d newset</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> set -n newname -s oldname</pre></div>
      </td><td>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> se -n newname oldname</pre></div>
      </td></tr></tbody></table></div><p>
   In fact, if you want to apply either the list or the destroy options to
   multiple <code class="systemitem">cpuset</code>s with one <code class="command">cset</code> command, you will not
   need to use the <code class="option">-s</code> option. For example:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="command">cset</code> se -d myset yourset ourset
--&gt; destroys cpusets: myset, yourset and ourset


<code class="command">cset</code> se -l prio_high prio_med prio_low
--&gt; lists only cpusets prio_high, prio_med and prio_low
--&gt; the -l is optional in this case since list is default</pre></div></section><section class="sect1" id="sec-shielding-shortcuts-proc" data-id-title="proc subcommand shortcuts"><div class="titlepage"><div><div><h2 class="title"><span class="title-number">4.3 </span><span class="title-name"><code class="command">proc</code> subcommand shortcuts</span> <a title="Permalink" class="permalink" href="#sec-shielding-shortcuts-proc">#</a></h2></div></div></div><p>
   For the <code class="command">proc</code> subcommand, the <code class="option">-s</code>, <code class="option">-t</code> and
   <code class="option">-f</code> options to specify the <code class="systemitem">cpuset</code>, the origination <code class="systemitem">cpuset</code>
   and the destination <code class="systemitem">cpuset</code> can sometimes be optional. For example, the
   following commands are equivalent. To list tasks in <code class="systemitem">cpuset</code>s:
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="width: 50%; " class="c1"/><col style="width: 50%; " class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Long method
       </p>
      </th><th style="border-bottom: 1px solid ; ">
       <p>
        Short method
       </p>
      </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s myset</pre></div>
       <p>
        or
       </p>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -f myset</pre></div>
       <p>
        or
       </p>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -t myset</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p -l myset</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p -l myset</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p myset</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -l -s one two</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p -l one two</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p -l one two</pre></div>
      </td><td>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p one two</pre></div>
      </td></tr></tbody></table></div><p>
   To execute a process into a <code class="systemitem">cpuset</code>:
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="width: 50%; " class="c1"/><col style="width: 50%; " class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Long method
       </p>
      </th><th style="border-bottom: 1px solid ; ">
       <p>
        Short method
       </p>
      </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -s myset -e bash</pre></div>
      </td><td>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p myset -e bash</pre></div>
      </td></tr></tbody></table></div><p>
   Moving tasks into and out of <code class="systemitem">cpuset</code>s have the following shortcuts.
   To move a PIDSPEC into a <code class="systemitem">cpuset</code>:
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="width: 50%; " class="c1"/><col style="width: 50%; " class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Long method
       </p>
      </th><th style="border-bottom: 1px solid ; ">
       <p>
        Short method
       </p>
      </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -p 4242,4243 -s myset</pre></div>
      </td><td style="border-bottom: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p -m 4242,4243 myset</pre></div>
      </td></tr><tr><td style="border-right: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -p 12 -t myset</pre></div>
      </td><td>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p -m 12 myset</pre></div>
      </td></tr></tbody></table></div><p>
   To move all tasks from one <code class="systemitem">cpuset</code> to another:
  </p><div class="informaltable"><table style="border-collapse: collapse; border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col style="width: 50%; " class="c1"/><col style="width: 50%; " class="c2"/></colgroup><thead><tr><th style="border-right: 1px solid ; border-bottom: 1px solid ; ">
       <p>
        Long method
       </p>
      </th><th style="border-bottom: 1px solid ; ">
       <p>
        Short method
       </p>
      </th></tr></thead><tbody><tr><td style="border-right: 1px solid ; ">
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -f set1 -t set2</pre></div>
       <p>
        or
       </p>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -s set1 -t set2</pre></div>
       <p>
        or
       </p>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> proc -m -f set1 -s set2</pre></div>
      </td><td>
<div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> p -m set1 set2</pre></div>
      </td></tr></tbody></table></div></section></section><section class="chapter" id="cha-shieldingt-help" data-id-title="What to do if there are problems"><div class="titlepage"><div><div><h1 class="title"><span class="title-number">5 </span><span class="title-name">What to do if there are problems</span> <a title="Permalink" class="permalink" href="#cha-shieldingt-help">#</a></h1></div></div></div><p>
  If you encounter any issues with the <code class="command">cset</code> application,
  you can file a bug report here:
  <a class="link" href="https://github.com/lpechacek/cpuset/issues" target="_blank">https://github.com/lpechacek/cpuset/issues</a>
 </p><p>
  If you are using <code class="command">cset</code> on a supported operating system
  such as SUSE Linux Enterprise Server 15 SP4 or SUSE Linux Enterprise Real Time 15 SP4,
  then should use the following Bugzilla product listing here:
 </p><p>
  <a class="link" href="https://bugzilla.suse.com" target="_blank">https://bugzilla.suse.com</a>
 </p><p>
  <code class="command">cset</code> contains a logging application that is invaluable
  for our developers to diagnose problems and find quick solutions. To
  create a log of your issue, use the <code class="option">--log</code>
  option with a file name as an argument to the main cset application. For
  example:
 </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">cset</code> -l logfile.txt set -n <em class="replaceable">newname</em> <em class="replaceable">oldname</em></pre></div><p>
  If the issue persists and is reproducible, Including this report in your
  bug submission greatly reduces development time. This command saves
  debugging information within the file <code class="filename">logfile.txt</code>.
 </p></section><div class="legal-section"><section class="appendix" id="id-1.3.8" data-id-title="GNU Licenses"><div class="titlepage"><div><div><h1 class="title"><span class="title-number">A </span><span class="title-name">GNU Licenses</span> <a title="Permalink" class="permalink" href="#id-1.3.8">#</a></h1></div></div></div><p>
  This appendix contains the GNU Free Documentation License version 1.2.
 </p><section class="sect1" id="id-1.3.8.4" data-id-title="GNU Free Documentation License"><div class="titlepage"><div><div><h2 class="title legal"><span class="title-name">GNU Free Documentation License</span> <a title="Permalink" class="permalink" href="#id-1.3.8.4">#</a></h2></div></div></div><p>
  Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51 Franklin
  St, Fifth Floor, Boston, MA 02110-1301 USA. Everyone is permitted to copy
  and distribute verbatim copies of this license document, but changing it
  is not allowed.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.3"><span class="name">
    0. PREAMBLE
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.3">#</a></h5></div><p>
  The purpose of this License is to make a manual, textbook, or other
  functional and useful document "free" in the sense of freedom: to assure
  everyone the effective freedom to copy and redistribute it, with or
  without modifying it, either commercially or noncommercially. Secondarily,
  this License preserves for the author and publisher a way to get credit
  for their work, while not being considered responsible for modifications
  made by others.
 </p><p>
  This License is a kind of "copyleft", which means that derivative works of
  the document must themselves be free in the same sense. It complements the
  GNU General Public License, which is a copyleft license designed for free
  software.
 </p><p>
  We have designed this License in order to use it for manuals for free
  software, because free software needs free documentation: a free program
  should come with manuals providing the same freedoms that the software
  does. But this License is not limited to software manuals; it can be used
  for any textual work, regardless of subject matter or whether it is
  published as a printed book. We recommend this License principally for
  works whose purpose is instruction or reference.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.7"><span class="name">
    1. APPLICABILITY AND DEFINITIONS
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.7">#</a></h5></div><p>
  This License applies to any manual or other work, in any medium, that
  contains a notice placed by the copyright holder saying it can be
  distributed under the terms of this License. Such a notice grants a
  world-wide, royalty-free license, unlimited in duration, to use that work
  under the conditions stated herein. The "Document", below, refers to any
  such manual or work. Any member of the public is a licensee, and is
  addressed as "you". You accept the license if you copy, modify or
  distribute the work in a way requiring permission under copyright law.
 </p><p>
  A "Modified Version" of the Document means any work containing the
  Document or a portion of it, either copied verbatim, or with modifications
  and/or translated into another language.
 </p><p>
  A "Secondary Section" is a named appendix or a front-matter section of the
  Document that deals exclusively with the relationship of the publishers or
  authors of the Document to the Document's overall subject (or to related
  matters) and contains nothing that could fall directly within that overall
  subject. (Thus, if the Document is in part a textbook of mathematics, a
  Secondary Section may not explain any mathematics.) The relationship could
  be a matter of historical connection with the subject or with related
  matters, or of legal, commercial, philosophical, ethical or political
  position regarding them.
 </p><p>
  The "Invariant Sections" are certain Secondary Sections whose titles are
  designated, as being those of Invariant Sections, in the notice that says
  that the Document is released under this License. If a section does not
  fit the above definition of Secondary then it is not allowed to be
  designated as Invariant. The Document may contain zero Invariant Sections.
  If the Document does not identify any Invariant Sections then there are
  none.
 </p><p>
  The "Cover Texts" are certain short passages of text that are listed, as
  Front-Cover Texts or Back-Cover Texts, in the notice that says that the
  Document is released under this License. A Front-Cover Text may be at most
  5 words, and a Back-Cover Text may be at most 25 words.
 </p><p>
  A "Transparent" copy of the Document means a machine-readable copy,
  represented in a format whose specification is available to the general
  public, that is suitable for revising the document straightforwardly with
  generic text editors or (for images composed of pixels) generic paint
  programs or (for drawings) some widely available drawing editor, and that
  is suitable for input to text formatters or for automatic translation to a
  variety of formats suitable for input to text formatters. A copy made in
  an otherwise Transparent file format whose markup, or absence of markup,
  has been arranged to thwart or discourage subsequent modification by
  readers is not Transparent. An image format is not Transparent if used for
  any substantial amount of text. A copy that is not "Transparent" is called
  "Opaque".
 </p><p>
  Examples of suitable formats for Transparent copies include plain ASCII
  without markup, Texinfo input format, LaTeX input format, SGML or XML
  using a publicly available DTD, and standard-conforming simple HTML,
  PostScript or PDF designed for human modification. Examples of transparent
  image formats include PNG, XCF and JPG. Opaque formats include proprietary
  formats that can be read and edited only by proprietary word processors,
  SGML or XML for which the DTD and/or processing tools are not generally
  available, and the machine-generated HTML, PostScript or PDF produced by
  some word processors for output purposes only.
 </p><p>
  The "Title Page" means, for a printed book, the title page itself, plus
  such following pages as are needed to hold, legibly, the material this
  License requires to appear in the title page. For works in formats which
  do not have any title page as such, "Title Page" means the text near the
  most prominent appearance of the work's title, preceding the beginning of
  the body of the text.
 </p><p>
  A section "Entitled XYZ" means a named subunit of the Document whose title
  either is precisely XYZ or contains XYZ in parentheses following text that
  translates XYZ in another language. (Here XYZ stands for a specific
  section name mentioned below, such as "Acknowledgements", "Dedications",
  "Endorsements", or "History".) To "Preserve the Title" of such a section
  when you modify the Document means that it remains a section "Entitled
  XYZ" according to this definition.
 </p><p>
  The Document may include Warranty Disclaimers next to the notice which
  states that this License applies to the Document. These Warranty
  Disclaimers are considered to be included by reference in this License,
  but only as regards disclaiming warranties: any other implication that
  these Warranty Disclaimers may have is void and has no effect on the
  meaning of this License.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.18"><span class="name">
    2. VERBATIM COPYING
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.18">#</a></h5></div><p>
  You may copy and distribute the Document in any medium, either
  commercially or noncommercially, provided that this License, the copyright
  notices, and the license notice saying this License applies to the
  Document are reproduced in all copies, and that you add no other
  conditions whatsoever to those of this License. You may not use technical
  measures to obstruct or control the reading or further copying of the
  copies you make or distribute. However, you may accept compensation in
  exchange for copies. If you distribute a large enough number of copies you
  must also follow the conditions in section 3.
 </p><p>
  You may also lend copies, under the same conditions stated above, and you
  may publicly display copies.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.21"><span class="name">
    3. COPYING IN QUANTITY
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.21">#</a></h5></div><p>
  If you publish printed copies (or copies in media that commonly have
  printed covers) of the Document, numbering more than 100, and the
  Document's license notice requires Cover Texts, you must enclose the
  copies in covers that carry, clearly and legibly, all these Cover Texts:
  Front-Cover Texts on the front cover, and Back-Cover Texts on the back
  cover. Both covers must also clearly and legibly identify you as the
  publisher of these copies. The front cover must present the full title
  with all words of the title equally prominent and visible. You may add
  other material on the covers in addition. Copying with changes limited to
  the covers, as long as they preserve the title of the Document and satisfy
  these conditions, can be treated as verbatim copying in other respects.
 </p><p>
  If the required texts for either cover are too voluminous to fit legibly,
  you should put the first ones listed (as many as fit reasonably) on the
  actual cover, and continue the rest onto adjacent pages.
 </p><p>
  If you publish or distribute Opaque copies of the Document numbering more
  than 100, you must either include a machine-readable Transparent copy
  along with each Opaque copy, or state in or with each Opaque copy a
  computer-network location from which the general network-using public has
  access to download using public-standard network protocols a complete
  Transparent copy of the Document, free of added material. If you use the
  latter option, you must take reasonably prudent steps, when you begin
  distribution of Opaque copies in quantity, to ensure that this Transparent
  copy will remain thus accessible at the stated location until at least one
  year after the last time you distribute an Opaque copy (directly or
  through your agents or retailers) of that edition to the public.
 </p><p>
  It is requested, but not required, that you contact the authors of the
  Document well before redistributing any large number of copies, to give
  them a chance to provide you with an updated version of the Document.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.26"><span class="name">
    4. MODIFICATIONS
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.26">#</a></h5></div><p>
  You may copy and distribute a Modified Version of the Document under the
  conditions of sections 2 and 3 above, provided that you release the
  Modified Version under precisely this License, with the Modified Version
  filling the role of the Document, thus licensing distribution and
  modification of the Modified Version to whoever possesses a copy of it. In
  addition, you must do these things in the Modified Version:
 </p><div class="orderedlist"><ol class="orderedlist" type="A"><li class="listitem"><p>
    Use in the Title Page (and on the covers, if any) a title distinct from
    that of the Document, and from those of previous versions (which should,
    if there were any, be listed in the History section of the Document).
    You may use the same title as a previous version if the original
    publisher of that version gives permission.
   </p></li><li class="listitem"><p>
    List on the Title Page, as authors, one or more persons or entities
    responsible for authorship of the modifications in the Modified Version,
    together with at least five of the principal authors of the Document
    (all of its principal authors, if it has fewer than five), unless they
    release you from this requirement.
   </p></li><li class="listitem"><p>
    State on the Title page the name of the publisher of the Modified
    Version, as the publisher.
   </p></li><li class="listitem"><p>
    Preserve all the copyright notices of the Document.
   </p></li><li class="listitem"><p>
    Add an appropriate copyright notice for your modifications adjacent to
    the other copyright notices.
   </p></li><li class="listitem"><p>
    Include, immediately after the copyright notices, a license notice
    giving the public permission to use the Modified Version under the terms
    of this License, in the form shown in the Addendum below.
   </p></li><li class="listitem"><p>
    Preserve in that license notice the full lists of Invariant Sections and
    required Cover Texts given in the Document's license notice.
   </p></li><li class="listitem"><p>
    Include an unaltered copy of this License.
   </p></li><li class="listitem"><p>
    Preserve the section Entitled "History", Preserve its Title, and add to
    it an item stating at least the title, year, new authors, and publisher
    of the Modified Version as given on the Title Page. If there is no
    section Entitled "History" in the Document, create one stating the
    title, year, authors, and publisher of the Document as given on its
    Title Page, then add an item describing the Modified Version as stated
    in the previous sentence.
   </p></li><li class="listitem"><p>
    Preserve the network location, if any, given in the Document for public
    access to a Transparent copy of the Document, and likewise the network
    locations given in the Document for previous versions it was based on.
    These may be placed in the "History" section. You may omit a network
    location for a work that was published at least four years before the
    Document itself, or if the original publisher of the version it refers
    to gives permission.
   </p></li><li class="listitem"><p>
    For any section Entitled "Acknowledgements" or "Dedications", Preserve
    the Title of the section, and preserve in the section all the substance
    and tone of each of the contributor acknowledgements and/or dedications
    given therein.
   </p></li><li class="listitem"><p>
    Preserve all the Invariant Sections of the Document, unaltered in their
    text and in their titles. Section numbers or the equivalent are not
    considered part of the section titles.
   </p></li><li class="listitem"><p>
    Delete any section Entitled "Endorsements". Such a section may not be
    included in the Modified Version.
   </p></li><li class="listitem"><p>
    Do not retitle any existing section to be Entitled "Endorsements" or to
    conflict in title with any Invariant Section.
   </p></li><li class="listitem"><p>
    Preserve any Warranty Disclaimers.
   </p></li></ol></div><p>
  If the Modified Version includes new front-matter sections or appendices
  that qualify as Secondary Sections and contain no material copied from the
  Document, you may at your option designate some or all of these sections
  as invariant. To do this, add their titles to the list of Invariant
  Sections in the Modified Version's license notice. These titles must be
  distinct from any other section titles.
 </p><p>
  You may add a section Entitled "Endorsements", provided it contains
  nothing but endorsements of your Modified Version by various parties--for
  example, statements of peer review or that the text has been approved by
  an organization as the authoritative definition of a standard.
 </p><p>
  You may add a passage of up to five words as a Front-Cover Text, and a
  passage of up to 25 words as a Back-Cover Text, to the end of the list of
  Cover Texts in the Modified Version. Only one passage of Front-Cover Text
  and one of Back-Cover Text may be added by (or through arrangements made
  by) any one entity. If the Document already includes a cover text for the
  same cover, previously added by you or by arrangement made by the same
  entity you are acting on behalf of, you may not add another; but you may
  replace the old one, on explicit permission from the previous publisher
  that added the old one.
 </p><p>
  The author(s) and publisher(s) of the Document do not by this License give
  permission to use their names for publicity for or to assert or imply
  endorsement of any Modified Version.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.33"><span class="name">
    5. COMBINING DOCUMENTS
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.33">#</a></h5></div><p>
  You may combine the Document with other documents released under this
  License, under the terms defined in section 4 above for modified versions,
  provided that you include in the combination all of the Invariant Sections
  of all of the original documents, unmodified, and list them all as
  Invariant Sections of your combined work in its license notice, and that
  you preserve all their Warranty Disclaimers.
 </p><p>
  The combined work need only contain one copy of this License, and multiple
  identical Invariant Sections may be replaced with a single copy. If there
  are multiple Invariant Sections with the same name but different contents,
  make the title of each such section unique by adding at the end of it, in
  parentheses, the name of the original author or publisher of that section
  if known, or else a unique number. Make the same adjustment to the section
  titles in the list of Invariant Sections in the license notice of the
  combined work.
 </p><p>
  In the combination, you must combine any sections Entitled "History" in
  the various original documents, forming one section Entitled "History";
  likewise combine any sections Entitled "Acknowledgements", and any
  sections Entitled "Dedications". You must delete all sections Entitled
  "Endorsements".
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.37"><span class="name">
    6. COLLECTIONS OF DOCUMENTS
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.37">#</a></h5></div><p>
  You may make a collection consisting of the Document and other documents
  released under this License, and replace the individual copies of this
  License in the various documents with a single copy that is included in
  the collection, provided that you follow the rules of this License for
  verbatim copying of each of the documents in all other respects.
 </p><p>
  You may extract a single document from such a collection, and distribute
  it individually under this License, provided you insert a copy of this
  License into the extracted document, and follow this License in all other
  respects regarding verbatim copying of that document.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.40"><span class="name">
    7. AGGREGATION WITH INDEPENDENT WORKS
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.40">#</a></h5></div><p>
  A compilation of the Document or its derivatives with other separate and
  independent documents or works, in or on a volume of a storage or
  distribution medium, is called an "aggregate" if the copyright resulting
  from the compilation is not used to limit the legal rights of the
  compilation's users beyond what the individual works permit. When the
  Document is included in an aggregate, this License does not apply to the
  other works in the aggregate which are not themselves derivative works of
  the Document.
 </p><p>
  If the Cover Text requirement of section 3 is applicable to these copies
  of the Document, then if the Document is less than one half of the entire
  aggregate, the Document's Cover Texts may be placed on covers that bracket
  the Document within the aggregate, or the electronic equivalent of covers
  if the Document is in electronic form. Otherwise they must appear on
  printed covers that bracket the whole aggregate.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.43"><span class="name">
    8. TRANSLATION
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.43">#</a></h5></div><p>
  Translation is considered a kind of modification, so you may distribute
  translations of the Document under the terms of section 4. Replacing
  Invariant Sections with translations requires special permission from
  their copyright holders, but you may include translations of some or all
  Invariant Sections in addition to the original versions of these Invariant
  Sections. You may include a translation of this License, and all the
  license notices in the Document, and any Warranty Disclaimers, provided
  that you also include the original English version of this License and the
  original versions of those notices and disclaimers. In case of a
  disagreement between the translation and the original version of this
  License or a notice or disclaimer, the original version will prevail.
 </p><p>
  If a section in the Document is Entitled "Acknowledgements",
  "Dedications", or "History", the requirement (section 4) to Preserve its
  Title (section 1) will typically require changing the actual title.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.46"><span class="name">
    9. TERMINATION
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.46">#</a></h5></div><p>
  You may not copy, modify, sublicense, or distribute the Document except as
  expressly provided for under this License. Any other attempt to copy,
  modify, sublicense or distribute the Document is void, and will
  automatically terminate your rights under this License. However, parties
  who have received copies, or rights, from you under this License will not
  have their licenses terminated so long as such parties remain in full
  compliance.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.48"><span class="name">
    10. FUTURE REVISIONS OF THIS LICENSE
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.48">#</a></h5></div><p>
  The Free Software Foundation may publish new, revised versions of the GNU
  Free Documentation License from time to time. Such new versions will be
  similar in spirit to the present version, but may differ in detail to
  address new problems or concerns. See
  <a class="link" href="http://www.gnu.org/copyleft/" target="_blank">http://www.gnu.org/copyleft/</a>.
 </p><p>
  Each version of the License is given a distinguishing version number. If
  the Document specifies that a particular numbered version of this License
  "or any later version" applies to it, you have the option of following the
  terms and conditions either of that specified version or of any later
  version that has been published (not as a draft) by the Free Software
  Foundation. If the Document does not specify a version number of this
  License, you may choose any version ever published (not as a draft) by the
  Free Software Foundation.
 </p><div class="sect4 bridgehead"><h5 class="title legal" id="id-1.3.8.4.51"><span class="name">
    ADDENDUM: How to use this License for your documents
  </span><a title="Permalink" class="permalink" href="#id-1.3.8.4.51">#</a></h5></div><div class="verbatim-wrap"><pre class="screen">   Copyright (c) YEAR YOUR NAME.
   Permission is granted to copy, distribute and/or modify this document
   under the terms of the GNU Free Documentation License, Version 1.2
   or any later version published by the Free Software Foundation;
   with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
   A copy of the license is included in the section entitled &amp;ldquo;GNU
   Free Documentation License&amp;rdquo;.</pre></div><p>
  If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
  replace the “with...Texts.” line with this:
 </p><div class="verbatim-wrap"><pre class="screen">   with the Invariant Sections being LIST THEIR TITLES, with the
   Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</pre></div><p>
  If you have Invariant Sections without Cover Texts, or some other
  combination of the three, merge those two alternatives to suit the
  situation.
 </p><p>
  If your document contains nontrivial examples of program code, we
  recommend releasing these examples in parallel under your choice of free
  software license, such as the GNU General Public License, to permit their
  use in free software.
 </p></section></section></div></section></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2022</span></div></div></footer></body></html>